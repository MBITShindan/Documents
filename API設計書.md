|機能|説明|重要度|
|---|---|---|
|診断結果の有無|診断結果があるかどうかを確認|必須|
|ID登録|一意のユーザIDを登録|必須|
|性格ランキング|判定の多い性格をランキング化する|必須|
|診断結果の登録|性格のタイプやresultJudgeの書き換え|必須|
|相性のいいタイプ|相性のいいタイプを％で返す|必須|
|再診断|ユーザが再診断を押すことで再診断を行えるようにする|必須|



# タイトル画面
## 前回の結果を表示する際にデータがあれば表示
### GET /results/{userId}
* 概要：指定されたユーザーIDの診断の状況を把握するためのデータをレスポンスする
* 認証：不要(userIdで識別)
### リクエスト
* userId(pathパラメータ:ユーザID)
### レスポンス
#### `成功：200`
```
{
    "resultJudge":true
}
```
#### `失敗：404`
```
{
  "error": "Not Found",
  "message": "指定された診断結果は存在しません。",
  "code": 404
}
```
***
## userIdをDBに登録
### POST /user/creation/{userId}
* 概要：指定されたuserIdをDBに格納。resultJudgeにfalseを付与
* 認証：不要（useIdで識別）
### リクエスト
* userId(pathパラメータ:ユーザID)
### レスポンス
#### `成功：200`
```
{
    "Success":true,
    "message":"ユーザID登録完了"

}
```
#### `失敗：404`
```
{
  "error": "Not Found",
  "message": "ユーザIDが登録できませんでした",
  "code": 404
}
```
## ランキングを取得するために
### GET /rankings
* 概要：全ユーザーの診断結果から、タイプ別に件数を集計して多い順に返す
* 認証：不要
### レスポンス
#### `成功：200`
```
{
  "data": [
            { "type": "INTJ", "ratio": 42 },
            { "type": "ENTP", "ratio": 39 },
            { "type": "INFJ", "ratio": 35 }
          ]
}

```
#### `失敗:404`
```
{
  "error": "Not Found",
  "message": "指定された診断結果は存在しません。",
  "code": 404
}
```
***
# ホーム画面
`APIの利用は特になし`
#### ローカルストレージで進行度を確認
進行状況の確認：途中の質問数等保持

# 性格診断画面
`APIの利用は特になし`
#### ローカルストレージで進行度を確認(現在実行済になっている場合はアクションを起こす)
進行状況の確認・保存：質問数、現在のスコアなど
# 診断結果画面
## 診断結果をDynamoDBに更新
### PUT /userresult
* 概要：指定されたuserIdの性格診断結果を格納
### リクエスト
* userId(Pathパラメータ:ユーザID)
* resultType(Pathパラメータ:性格のタイプ)
### レスポンス
#### `成功：200`
```
{
    "Success":true,
    "message": "データの更新に成功しました"
}
```
#### `失敗：404`
```
{
    "Success":false,
    "message": "データの更新に失敗しました",
    "code": 404
}
```

## 相性の良いタイプはどれくらいいるか％表示
### GET /compatibility/{type}
* 概要：指定した性格タイプに対して、相性のいいタイプとその相性度（％）を返す
### リクエスト
* type（Pathパラメータ：MBTIタイプ）
### レスポンス
#### `成功：200`
```
{
  "baseType": "INTJ",
  "compatibilities": [
    { "type": "ENFP", "percentage": 85 },
    { "type": "INFJ", "percentage": 80 },
    { "type": "ENTP", "percentage": 75 }
  ]
}
```
#### `失敗：404`
```
{
  "error": "Not Found",
  "message": "指定された性格タイプの相性データが見つかりません。",
  "code": 404
}
```
***

## ユーザが再診断を押すことでDB修正
### PUT /result/reset/{useId}
### リクエスト
* userId (pathパラメータ:ユーザID)
### レスポンス
#### `成功：200`
```
{
    "Success":true,
    "message":"再診断を受信"
}
```
#### `失敗：404`
```
{
  "error": "Not Found",
  "message": "再診断を受信できませんでした",
  "code": 404
}
```
#### タイトルに戻るボタンを押すことでローカルストレージの回答数とポイントを削除するここでuseridはそのまま
回答数・ポイントは削除、userIdは残す